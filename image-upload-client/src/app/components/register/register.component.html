<!-- Wrapper Site -->
<div id="main-content">
    <div class="projects">

        <article class="post">
            <div class="post-content">
                <h2 class="title">Registration Form</h2>

                <!-- The Content -->
                <div class="the-content">
                    <form name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate
                          *ngIf="!isRegistered">
                        <div class="contact-item form-name">
                            <div class="alert alert-danger" role="alert" *ngIf="errorMessage">{{errorMessage}}</div>
                            <span id="reauth-email" class="reauth-email"></span>
                            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !fullName.valid }">
                                <label for="fullName">Full Name</label>
                                <input type="text" class="form-control" name="fullName" id="fullName"
                                       [(ngModel)]="user.fullName" #fullName="ngModel" required/>
                                <div *ngIf="f.submitted && !fullName.valid" class="help-block">The full Name is
                                    required
                                </div>
                            </div>
                        </div>
                        <div class="contact-item form-phone">
                            <input name="phone" value="" type="number" placeholder="Mobile (Required)">
                        </div>
                        <div class="contact-item form-password">
                            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                                <label for="password">Password</label>
                                <input type="password" class="form-control" name="password" id="password"
                                       [(ngModel)]="user.password" #password="ngModel" required minlength="4"/>
                                <div *ngIf="f.submitted && !password.valid" class="help-block">

                                    <div *ngIf="password.errors.required">
                                        password is required.
                                    </div>
                                    <div *ngIf="password.errors.minlength">
                                        password must be at least 4 characters long.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="contact-item form-email">
                            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
                                <label for="username">Email Address</label>
                                <input type="text" class="form-control" name="username" id="username"
                                       pattern="[^ @]*@[^ @]*" [(ngModel)]="user.username" #username="ngModel"
                                       required/>
                                <div *ngIf="f.submitted && !username.valid" class="help-block">

                                    <div *ngIf="username.errors.required">
                                        Email is required.
                                    </div>
                                    <div *ngIf="username.errors.pattern">
                                        A valid email address is required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="contact-item form-location">
                            <select name="location">
                                <option>Select Country (Required)</option>
                                <option value="delhi">India</option>
                                <option value="mumbai">USA</option>
                                <option value="other">England</option>
                            </select>
                        </div>
                        <div class="contact-item form-facebook">
                            <input name="facebook" value="" type="url" placeholder="Facebook Profile">
                        </div>
                        <div class="contact-item form-instagram">
                            <input name="instagram" value="" type="url" placeholder="Instagram Profile">
                        </div>


                        <div class="contact-item form-checkbox">
                            <input name="checkbox" value="" type="checkbox"> I agree with <a routerLink="/how-to-enter">Terms
                            and Conditions</a> of the event.
                        </div>

                        <div class="contact-item form-submit">
                            <input name="submit" type="submit" id="submit" class="submit" value="Register">
                        </div>
                    </form>

                    <form ngNoForm action="{{paymentUrl}}" method="POST" >
                        <input type="hidden" name="me_id" value="{{paymentData.me_id}}">
                        <input type="hidden" name="txn_details" value="{{paymentData.txn_details}}">
                        <input type="hidden" name="pg_details" value="{{paymentData.pg_details}}">
                        <input type="hidden" name="card_details" value="{{paymentData.card_details}}">
                        <input type="hidden" name="cust_details" value="{{paymentData.cust_details}}">
                        <input type="hidden" name="bill_details" value="{{paymentData.bill_details}}">
                        <input type="hidden" name="ship_details" value="{{paymentData.ship_details}}">
                        <input type="hidden" name="item_details" value="{{paymentData.item_details}}">
                        <input type="hidden" name="other_details" value="{{paymentData.other_details}}">
                        <div>
                            <table>
                                <tbody>
                                <tr>
                                    <td>
                                        <div class="col-md-offset-7 col-md-5">
                                            <img src="../../../assets/images/safex_logo.png">
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="mat-h3">
                                        Welcome to Odyssey photo competition <b>{{user.fullName}}</b>.<br> You have to make
                                        payment of $15 in order to participate into the competition otherwise your photo will not be
                                        considered
                                    </td>
                                </tr>
                                <tr>
                                    <div class="contact-item form-submit">
                                        <button type="submit" name="submit" class="submit">Proceed to payment</button>
                                    </div>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </form>
                </div>
            </div>
        </article>
    </div>
</div>
